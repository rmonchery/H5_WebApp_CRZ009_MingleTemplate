var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Odin;!function(t){var e=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.major=0,this.minor=0,this.patch=0,this.major=t,this.minor=e,this.patch=n,this.full=t+"."+e+"."+n}return t}();t.Version=e;var n=function(){function t(){}return t.remove=function(t,e){var n=$.inArray(e,t);n>=0&&t.splice(n,1)},t.removeByProperty=function(t,e,n){for(var i=0;i<t.length;i++)if(t[i][e]==n)return t.splice(i,1),!0;return!1},t.indexByProperty=function(t,e,n){for(var i=0;i<t.length;i++)if(t[i][e]==n)return i;return-1},t.itemByProperty=function(t,e,n){var i=this.indexByProperty(t,e,n);return i>=0?t[i]:null},t.containsByProperty=function(t,e,n){return this.indexByProperty(t,e,n)>=0},t.contains=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},t.last=function(t){return t&&t.length>0?t[t.length-1]:null},t}();t.ArrayUtil=n;var i=function(){function t(){}return t.addAppender=function(e){t.appenders.push(e)},t.removeAppender=function(e){n.remove(t.appenders,e)},t.getTime=function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),i=t.getSeconds(),o=t.getMilliseconds(),r=(e<10?"0":"")+e+":"+(n<10?"0":"")+n+":"+(i<10?"0":"")+i+","+(o<10?"00":(o<100?"0":"")+o);return r},t.getLogEntry=function(e,n,i){var o="["+t.getTime()+"] "+this.prefixes[e]+" "+n;return i&&(o+=" "+i.message,i.stack&&(o+=" "+i.stack)),o},t.log=function(e,n,i,o){if(n<=e){if(t.isConsoleLogEnabled&&window.console){var r=t.getLogEntry(n,i,o);n<=1?console.error(r):2==n?console.warn(r):3==n?console.info(r):console.log(r)}if(t.appenders)for(var a=0;a<t.appenders.length;a++)try{t.appenders[a](n,i,o)}catch(t){}}},t.setDefault=function(){this.level=this.levelInfo},t.fatal=function(t,e){this.log(this.level,this.levelFatal,t,e)},t.error=function(t,e){this.log(this.level,this.levelError,t,e)},t.warning=function(t,e){this.log(this.level,this.levelWarning,t,e)},t.info=function(t,e){this.log(this.level,this.levelInfo,t,e)},t.isDebug=function(){return this.level>=this.levelDebug},t.setDebug=function(){this.level=this.levelDebug},t.debug=function(t,e){this.log(this.level,this.levelDebug,t,e)},t.isTrace=function(){return this.level>=this.levelTrace},t.setTrace=function(){this.level=this.levelTrace},t.trace=function(t,e){this.log(this.level,this.levelTrace,t,e)},t.levelFatal=0,t.levelError=1,t.levelWarning=2,t.levelInfo=3,t.levelDebug=4,t.levelTrace=5,t.level=t.levelInfo,t.isConsoleLogEnabled=!0,t.prefixes=["[FATAL]","[ERROR]","[WARNING]","[INFO]","[DEBUG]","[TRACE]"],t.appenders=[],t}();t.Log=i;var o=function(){function t(){}return t.getLocaleSeparator=function(){var t=1.1,e=t.toLocaleString().substring(1,2);return e},t.getDefaultOptions=function(){return t.defaultOptions},t.setDefaultOptions=function(e){t.defaultOptions=e,e.separator&&(t.defaultSeparator=e.separator)},t.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.getInt=function(t,e){if(void 0===e&&(e=0),t)try{return parseInt(t)}catch(t){}return e},t.format=function(e,n){var i=e.toString();if(""===i)return i;var o=n?n.separator:t.defaultOptions.separator;return o||(o=t.defaultSeparator),i=i.replace(".",o)},t.pad=function(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n},t.hasOnlyIntegers=function(t){if(!t)return!1;for(var e="1234567890",n=0;n<t.length;n++)if(e.indexOf(t.charAt(n))==-1)return!1;return!0},t.defaultSeparator=t.getLocaleSeparator(),t.defaultOptions={separator:t.defaultSeparator},t}();t.NumUtil=o;var r=function(){function t(){}return t.isNullOrEmpty=function(t){return!t},t.startsWith=function(t,e){return!!s.hasValue(t)&&0==t.indexOf(e)},t.endsWith=function(t,e){return null!=t&&t.indexOf(e,t.length-e.length)!==-1},t.trimEnd=function(t){return t.replace(/\s+$/,"")},t.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n="missing";try{n=t[0];var o=Array.prototype.slice.call(t,1);n=n.replace(/{(\d+)}/g,function(){var t=o[arguments[1]];return"undefined"!=typeof t?t:arguments[0]})}catch(e){i.error("Failed to format string. Args: "+t)}return n},t}();t.StringUtil=r;var a=function(){function t(){}return t.isDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},t}();t.DateUtil=a;var s=function(){function t(){}return t.getBoolean=function(t,e){return void 0===e&&(e=!1),t&&t.length>0?"t"===t[0].toLowerCase():e},t.getUuid=function(t){return t+(65536*(1+Math.random())|0).toString(16).substring(1)+(65536*(1+Math.random())|0).toString(16).substring(1)},t.hasValue=function(t){return"undefined"!=typeof t&&null!=t},t.isUndefined=function(t){return"undefined"==typeof t},t.random=function(e){void 0===e&&(e=16);for(var n=t.chars,i="",o=0;o<e;o++){var r=Math.floor(Math.random()*n.length);i+=n.substring(r,r+1)}return i},t.isIframe=function(){try{return window.self!==window.top}catch(t){return!0}},t.chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",t}();t.Util=s;var c=function(){function t(){}return t.http="HTTP",t.parse="PARSE",t}();t.ErrorTypes=c;var l=function(){function t(){}return t.prototype.hasError=function(){var t=this;return!!(t.errorMessage||t.errorCode||t.error)},t}();t.ErrorState=l;var u=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype.get=function(t){var e=this[t];return e?e:t},e.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(t.length<2)throw"At least two parameters are required";var n=this.get(t[0]);return t[0]=n,r.format(t)},e}(l);t.Language=u;var d=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.raise=function(t){this.handlers&&this.handlers.slice(0).forEach(function(e){return e(t)})},t}();t.InstanceEvent=d,function(t){t[t.Busy=1]="Busy",t[t.Active=2]="Active"}(t.ComponentState||(t.ComponentState={}));var p=(t.ComponentState,function(){function t(){}return t.getApplication=function(e){return e[t.app]},t.setApplication=function(e,n){e[t.app]=n},t.getPath=function(){return t.path},t.setPath=function(e){t.path=e,i.info("[Odin.Framework] Path changed to: "+e)},t.path="odin",t.app="odinApp",t.version=new e(1,1,1),t}());t.Framework=p;var h=function(){function t(){this.startupServiceName="odinStartupService"}return t.prototype.onStart=function(){},t.prototype.onReady=function(t){t.setReady()},t.prototype.onError=function(t){t.showErrorMessage(this.name)},t.prototype.addUrlOverride=function(t,e,n){var i={host:e,url:n},o=this.urlOverrides;o||(this.urlOverrides=o={}),o[t]=i},t.prototype.getStartupOptions=function(){var t={name:this.name,description:this.description,version:this.version,id:this.id},e={application:t,frameworkPath:this.frameworkPath,languageOptions:this.languageOptions,urlOverrides:this.urlOverrides};return e},t.prototype.validate=function(){if(!this.module)throw"The module property is not set";if(!this.name)throw"The name property is not set"},t.prototype.startService=function(t){var e=this;this.startupService=t;var n=this.getStartupOptions();t.start(n).then(function(t){e.onReady(t)},function(t){e.onError(t)})},t.prototype.onRun=function(){var t=this;this.module.run([this.startupServiceName,function(e){t.startService(e)}])},t.prototype.start=function(){this.onStart(),this.validate(),this.onRun()},t}();t.ApplicationBase=h;var f=function(){function t(t){this.$locale=t,this.dateFormat="yyyy-MM-dd",this.datetimeFormats=t.DATETIME_FORMATS,this.monthNames=this.datetimeFormats.MONTH.concat(this.datetimeFormats.SHORTMONTH),this.dayNames=this.datetimeFormats.DAY.concat(this.datetimeFormats.SHORTDAY)}return t.add=function(e){e.service("odinFormatService",t)},t.prototype.getDecimalSeparator=function(){return o.getDefaultOptions().separator},t.prototype.setDecimalSeparator=function(t){var e=o.getDefaultOptions();e.separator=t,o.setDefaultOptions(e)},t.prototype.setDateFormat=function(t){this.dateFormat=t},t.prototype.getDateFormat=function(){return this.dateFormat},t.prototype.parseDate=function(t,e){try{if(t+="",e||(e=this.dateFormat),!e.length)return new Date(t);this.datetimeFormats[e]&&(e=this.datetimeFormats[e]);for(var n=new Date,i=0,o=0,r="",a=n.getFullYear(),s=n.getMonth()+1,c=n.getDate(),l=0,u=0,d=0,p=0,h="am",f=0,v=!1;o<e.length;){r=e.charAt(o);var g="";if("'"!=e.charAt(o)){for(;e.charAt(o)==r&&o<e.length;)g+=e.charAt(o++);if("yyyy"==g||"yy"==g||"y"==g){var m,y;"yyyy"==g&&(m=4,y=4),"yy"==g&&(m=2,y=2),"y"==g&&(m=2,y=4);var b=this.getInteger(t,i,m,y);if(a=parseInt(b),isNaN(a))throw"Invalid year";i+=b.length,2==b.length&&(a=a>70?1900+(a-0):2e3+(a-0))}else if("MMMM"===g||"MMM"==g){s=0;for(var S=0;S<this.monthNames.length;S++){var w=this.monthNames[S];if(t.substring(i,i+w.length).toLowerCase()==w.toLowerCase()){s=S+1,s>12&&(s-=12),i+=w.length;break}}if(s<1||s>12)throw"Invalid month"}else if("EEEE"==g||"EEE"==g)for(var C=0;C<this.dayNames.length;C++){var E=this.dayNames[C];if(t.substring(i,i+E.length).toLowerCase()==E.toLowerCase()){i+=E.length;break}}else if("MM"==g||"M"==g){var x=this.getInteger(t,i,g.length,2);if(s=parseInt(x),isNaN(s)||s<1||s>12)throw"Invalid month";i+=x.length}else if("dd"==g||"d"==g){var I=this.getInteger(t,i,g.length,2);if(c=parseInt(I),isNaN(c)||c<1||c>31)throw"Invalid date";i+=I.length}else if("HH"==g||"H"==g){var k=this.getInteger(t,i,g.length,2);if(null===l||l<0||l>23)throw"Invalid hours";i+=k.length}else if("hh"==g||"h"==g){var O=this.getInteger(t,i,g.length,2);if(null===l||l<1||l>12)throw"Invalid hours";i+=O.length}else if("mm"==g||"m"==g){var D=this.getInteger(t,i,g.length,2);if(null===u||u<0||u>59)throw"Invalid minutes";i+=D.length}else if("ss"==g||"s"==g){var $=this.getInteger(t,i,g.length,2);if(d=parseInt($),isNaN(d)||d<0||d>59)throw"Invalid seconds";i+=$.length}else if("sss"===g){var p=parseInt(this.getInteger(t,i,3,3));if(isNaN(p)||p<0||p>999)throw"Invalid milliseconds";i+=3}else if("a"==g){if("am"==t.substring(i,i+2).toLowerCase())h="AM";else{if("pm"!=t.substring(i,i+2).toLowerCase())throw"Invalid AM/PM";h="PM"}i+=2}else if("Z"==g){if(v=!0,"Z"===t[i])f=0,i+=1;else if(":"===t[i+3]){var A=t.substring(i,i+6);f=60*parseInt(A.substr(0,3),10)+parseInt(A.substr(4,2),10),i+=6}else{var A=t.substring(i,i+5);f=60*parseInt(A.substr(0,3),10)+parseInt(A.substr(3,2),10),i+=5}if(f>720||f<-720)throw"Invalid timezone"}else{if(t.substring(i,i+g.length)!=g)throw"Pattern value mismatch";i+=g.length}}else{for(;"'"!=e.charAt(++o)&&o<e.length;)g+=e.charAt(o);if(t.substring(i,i+g.length)!=g)throw"Pattern value mismatch";i+=g.length,o++}}if(i!=t.length)throw"Pattern value mismatch";if(2==s)if(a%4===0&&a%100!==0||a%400===0){if(c>29)throw"Invalid date"}else if(c>28)throw"Invalid date";if((4==s||6==s||9==s||11==s)&&c>30)throw"Invalid date";l<12&&"PM"==h?l+=12:l>11&&"AM"==h&&(l-=12);var P=new Date(a,s-1,c,l,u,d,p);return v?new Date(P.getTime()-6e4*(f+P.getTimezoneOffset())):P}catch(t){return}},t.prototype.getInteger=function(t,e,n,i){for(var r=i;r>=n;r--){var a=t.substring(e,e+r);if(o.hasOnlyIntegers(a))return a}return null},t.$inject=["$locale"],t}();t.FormatService=f;var v=function(){function e(t){this.q=t,this.resultCache={},this.providerDictionary={},this.awaitingProviderDictionary={}}return e.add=function(t){t.service("odinDataProviderService",e)},e.prototype.register=function(e,n){if(null!=this.providerDictionary[e])throw"The key must be unique. Key "+e+" already exists.";this.providerDictionary[e]=n,t.Log.debug("Registered provider for key: "+e),this.awaitingProviderDictionary[e]&&this.get(e,this.awaitingProviderDictionary[e].options)},e.prototype.get=function(e,n){var i=this,o=this.awaitingProviderDictionary[e],r=o?o.deferred:this.q.defer(),a=this.resultCache[e];if(null==a)try{var s=this.providerDictionary[e];null!=s?(t.Log.debug("Start fetching data for key: "+e),s.get(n).then(function(n){n.hasError()&&t.Log.debug("Response for key: "+e+" has errors: "+n.errorMessage),i.resultCache[e]=n,r.resolve(n)},function(n){n.hasError()&&t.Log.debug("Response for key "+e+" has errors: "+n.errorMessage)})):(t.Log.debug("Key "+e+" not yet registered, awaiting registration."),this.awaitingProviderDictionary[e]={options:n,deferred:r})}catch(n){t.Log.warning("Something went wrong when fetching data for key: "+e)}else r.resolve(a);return r.promise},e.$inject=["$q"],e}();t.DataProviderService=v;var g=function(){function t(){}return t.add=function(t){var e=this;t.directive("odinDataProvider",["$rootScope","odinDataProviderService",function(t,n){return e.create(t,n)}])},t.create=function(t,e){return{restrict:"E",link:function(t,n,i){var o=i.key,r=i.propertyName||o;e.get(o).then(function(e){e.hasError()||(t[r]=e.items)})}}},t}();t.DataProviderDirective=g}(Odin||(Odin={}));var Odin;!function(t){!function(t){t[t.Information=0]="Information",t[t.Warning=1]="Warning",t[t.Error=2]="Error"}(t.MessageType||(t.MessageType={}));var e=t.MessageType;!function(t){t[t.Ok=1]="Ok",t[t.OkCancel=2]="OkCancel",t[t.YesNo=3]="YesNo",t[t.YesNoCancel=4]="YesNoCancel"}(t.DialogButtons||(t.DialogButtons={}));var n=t.DialogButtons;!function(t){t[t.Ok=1]="Ok",t[t.Cancel=2]="Cancel",t[t.Yes=3]="Yes",t[t.No=4]="No"}(t.DialogResult||(t.DialogResult={}));var i=t.DialogResult,o=function(){function t(){this.message=null,this.header=null,this.messageType=e.Information,this.messageCode=null}return t}();t.Message=o;var r=function(){function t(){this.statusBarName="odinStatusBar",this.defaultHeader=null}return t}(),a=function(){function n(t){angular.copy(t,this),this.timestamp=new Date,this.type||(this.type=e.Information)}return n.prototype.formatTime=function(){return this.timestamp.getHours()+":"+t.NumUtil.pad(this.timestamp.getMinutes(),2)},n}(),s=function(){function t(t,e,n){var i=this;this.scope=t,this.messageService=e,this.timeoutService=n,this.items=[],this.lastMessage=null,this.isStatusVisible=!0,this.isCollapsed=!0,this.clearMessageInterval=5e3,e.messageAdded().on(function(t){return i.addMessageInternal(t)})}return t.prototype.addMessageInternal=function(t){var n=this,i=new a(t);this.clearMessageInterval>0&&t.type!=e.Error?(this.clearPromise&&this.timeoutService.cancel(this.clearPromise),this.clearPromise=this.timeoutService(function(){return n.onTimeout()},this.clearMessageInterval)):this.clearMessageInterval>0&&t.type==e.Error&&this.clearPromise&&this.timeoutService.cancel(this.clearPromise),this.lastMessage=i,this.items.push(i)},t.prototype.removeAt=function(t){if(t||0==t){var e=this.items.splice(this.items.length-1-t,1);e[0]==this.lastMessage&&(this.lastMessage=null)}this.isCollapsed=0==this.items.length},t.prototype.onTimeout=function(){this.lastMessage=null,this.clearPromise=null},t.prototype.addMessage=function(t){this.addMessageInternal({message:t})},t.prototype.clear=function(){this.isCollapsed=!0,this.items=[],this.lastMessage=null},t.$inject=["$scope","odinMessageService","$timeout"],t}(),c=function(){function o(i,o,a,s){this.rootScope=i,this.modal=o,this.q=a,this.languageService=s,this.defaultServiceOptions=new r,this.messageEvent=new t.InstanceEvent,this.defaultSettings={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:t.BrowseConstants.modalMessageTemplate},this.defaultOptions={type:e.Information,buttons:n.Ok,primaryText:"OK",cancelText:"Cancel"}}return o.add=function(t){t.service("odinMessageService",o),t.controller("odinStatusBarCtrl",s),t.directive("odinStatusbar",function(){return{restrict:"E",replace:!0,template:"<div ng-controller='odinStatusBarCtrl as ctrl' id='odin-statusbar' class='odin-statusbar' uib-collapse='!ctrl.isStatusVisible'><table class='table odin-statusbar-header' ng-disabled='ctrl.items.length==0' ng-click='(ctrl.items.length > 0) && (ctrl.isCollapsed=!ctrl.isCollapsed)' ng-model='ctrl.isCollapsed'><tbody><tr><td><span class='odin-statusbar-message' ng-class='{\"0\": \"information\", \"1\": \"warning\", \"2\":\"error\"}[ctrl.lastMessage.type]'>{{ctrl.lastMessage.message}}</span></td><td class='odin-width-xs'><button type='button' ng-disabled='ctrl.items.length==0' class='close'><span class='btn-xs glyphicon' ng-class='{\"true\": \"glyphicon-chevron-up\", \"false\": \"glyphicon-chevron-down\", \"undefined\":\"glyphicon-chevron-down\"}[ctrl.isCollapsed]'></span></button></td></tr></tbody></table><div uib-collapse='ctrl.isCollapsed'><div class='odin-statusbar-content'><table class='table'><tbody><tr ng-repeat='item in ctrl.items | orderBy:\"timestamp\":true'><td><span class='odin-statusbar-message' ng-class='{\"0\": \"information\", \"1\": \"warning\", \"2\":\"error\"}[item.type]'>{{item.message}}</span></td><td class='odin-width-sm'><span class='odin-statusbar-time'>{{item.formatTime()}}</span></td><td class='odin-width-xs'><button type='button' class='close' ng-click='ctrl.removeAt($index)'><span class='btn-xs glyphicon glyphicon-remove'></span></button></td></tr></tbody></table></div><div class='odin-block odin-statusbar-clear'><button type='button' class='btn' ng-click='ctrl.clear()'>Clear All</button></div></div></div>"}})},o.prototype.getDefaultHeader=function(){var e=t.Framework.getApplication(this.rootScope);return e&&e.name?e.name:""},o.prototype.show=function(n){var i=this;n.type||(n.type=e.Information),n.header||(n.header=this.getDefaultHeader()),t.Log.debug("Show message "+n.header+" "+n.message+", type: "+n.type);var o=this.showDialog(n);return o.finally(function(){return i.raiseMessageAdded(n)}),o},o.prototype.configureButtons=function(t){t.primaryResult=i.Ok,t.buttons!=n.OkCancel&&t.buttons!=n.YesNoCancel||(t.showCancel=!0,t.secondaryResult=i.Cancel),t.buttons!=n.YesNo&&t.buttons!=n.YesNoCancel||(t.showSecondary=!0,t.primaryResult=i.Yes,t.secondaryResult=i.No)},o.prototype.showStatus=function(t,e){this.raiseMessageAdded({message:t,type:e})},o.prototype.showInfo=function(t,n){return this.show({message:t,header:n,type:e.Information})},o.prototype.showWarning=function(t,n){return this.show({message:t,header:n,type:e.Warning})},o.prototype.showError=function(t,n){return this.show({message:t,header:n,type:e.Error})},o.prototype.configure=function(t){this.options=t},o.prototype.messageAdded=function(){return this.messageEvent},o.prototype.raiseMessageAdded=function(e){t.Log.debug("Send message to statusbar "+e.header+" "+e.message+", type: "+e.type),this.messageEvent.raise(e)},o.prototype.showDialog=function(t){var e={};t.modalSettings?angular.extend(e,this.defaultSettings,t.modalSettings,t):angular.extend(e,this.defaultSettings,t);var o=this.languageService.tryGet(),r={},a=o.get("OK"),s=o.get("Cancel"),c=this.defaultOptions;c.cancelText=s,c.primaryText=a,angular.extend(r,c),t.buttons!=n.YesNo&&t.buttons!=n.YesNoCancel||(r.primaryText=o.get("Yes"),r.secondaryText=o.get("No")),angular.extend(r,t),this.configureButtons(r);var l=t.buttons!==n.YesNo;e.keyboard=l;var u=null;switch(t.buttons){case n.YesNo:u=r.secondaryResult;break;case n.OkCancel:case n.YesNoCancel:u=i.Cancel;break;case n.Ok:default:u=i.Ok}e.controller||(e.controller=["$scope","$uibModalInstance",function(t,e){t.options=r,t.options.primary=function(){e.close(r.primaryResult)},t.options.secondary=function(){e.close(r.secondaryResult)},t.options.cancel=function(){e.close(i.Cancel)},t.options.close=function(){e.close(u)}}]),e.backdrop="static";var d=this.q.defer();return this.modal.open(e).result.then(function(t){d.resolve(t)},function(t){l?d.resolve(r.buttons==n.Ok?i.Ok:i.Cancel):d.reject(t)}),d.promise},o.$inject=["$rootScope","$uibModal","$q","odinLanguageService"],o}();t.MessageService=c;var l=function(){function e(){}return e.prototype.init=function(t,e){this.scope=t,this.grid=e,this.addEvents()},e.prototype.addEvents=function(){var t=this;this.grid.$viewport.on("dblclick",function(){t.onDoubleClick()})},e.prototype.onDoubleClick=function(){t.Log.isDebug()&&t.Log.debug("[GridDoubleClickPlugin] double-click on row "+JSON.stringify(this.scope.selectedItems[0]));var e=this.scope["odin.DoubleClick"];e&&e.hasOwnProperty("onDoubleClick")&&e.onDoubleClick()},e}();t.GridDoubleClickPlugin=l;var u=function(){function e(){}return e.prototype.init=function(t,e){var n=this;this.scope=t,this.grid=e;var i=this;this.scope.$watch(function(){var t="";return angular.forEach(i.scope.columns,function(e){if(e.visible&&e.filterText){var n=(0==e.filterText.indexOf("*")?e.filterText.replace("*",""):"^"+e.filterText)+";";t+=e.displayName+": "+n}}),t},function(t){n.filterListner(t)})},e.prototype.filterListner=function(e){t.StringUtil.isNullOrEmpty(e)||(this.scope.$parent.filterText=e,this.grid.searchProvider.evalFilter())},e}();t.FilterGridPlugin=u}(Odin||(Odin={}));var Odin;!function(t){var e=function(){function t(t,e){this.$rootScope=t,this.$timeout=e}return t.prototype.focusById=function(t){angular.element("#"+t).trigger("focus")},t.prototype.focusByName=function(t){var e=this;this.$timeout(function(){e.$rootScope.$broadcast("odinFocusOn",t)})},t.add=function(e){e.factory("odinFocus",["$rootScope","$timeout",function(e,n){return new t(e,n)}]),e.directive("odinFocusAuto",function(t){return{restrict:"AC",link:function(e,n){t(function(){n[0].focus()},0)}}}),e.directive("odinFocusOn",function(){return function(t,e,n){t.$on("odinFocusOn",function(t,i){i===n.odinFocusOn&&e[0].focus()})}}),e.directive("odinFocus",function(t,e){return{restrict:"A",link:function(e,n,i){e.$watch(i.odinFocus,function(t,e){t&&n[0].focus()}),n.bind("blur",function(n){t(function(){e.$apply(i.odinFocus+"=false")},0)}),n.bind("focus",function(n){t(function(){e.$apply(i.odinFocus+"=true")},0)})}}})},t}();t.FocusDirective=e}(Odin||(Odin={}));var Odin;!function(t){var e=function(){function t(){}return t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.onKeyEvent=function(e,n,i,o,r){var a,s=[];a=i.$eval(r["odin"+t.capitaliseFirstLetter(n)]),angular.forEach(a,function(t,n){var i,o;o=e(t),angular.forEach(n.split(" "),function(t){i={expression:o,keys:{}},angular.forEach(t.split("-"),function(t){i.keys[t]=!0}),s.push(i)})}),o.bind(n,function(e){var o=!(!e.metaKey||e.ctrlKey),r=!!e.altKey,a=!!e.ctrlKey,c=!!e.shiftKey,l=e.keyCode;"keypress"===n&&!c&&l>=97&&l<=122&&(l-=32),angular.forEach(s,function(n){var s=n.keys[t.keysByCode[l]]||n.keys[l.toString()],u=!!n.keys.meta,d=!!n.keys.alt,p=!!n.keys.ctrl,h=!!n.keys.shift;s&&u===o&&d===r&&p===a&&h===c&&i.$apply(function(){n.expression(i,{$event:e})})})})},t.onKeyEventToUpper=function(t,e,n){var i=this;e.bind("keyup",function(t){i.forceUpper(t,e)})},t.doGetCaretPosition=function(t){var e=0,n=document.selection;if(n){t.focus();var i=n.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||0==t.selectionStart)&&(e=t.selectionStart);return e},t.doSetCaretPosition=function(t,e){var n=document.selection;if(n){t.focus();var i=n.createRange();i.moveStart("character",-t.value.length),i.moveStart("character",e),i.moveEnd("character",0),i.select()}else(t.selectionStart||0==t.selectionStart)&&(t.selectionStart=e,t.selectionEnd=e,t.focus())},t.forceUpper=function(t,e){if(9!==t.keyCode){var n=e[0],i=this.doGetCaretPosition(n);n.value=n.value.toUpperCase(),this.doSetCaretPosition(n,i)}},t.add=function(e){e.directive("odinKeydown",["$parse",function(e){return{link:function(n,i,o){t.onKeyEvent(e,"keydown",n,i,o)}}}]),e.directive("odinKeypress",["$parse",function(e){return{link:function(n,i,o){t.onKeyEvent(e,"keypress",n,i,o)}}}]),e.directive("odinKeyup",["$parse",function(e){return{link:function(n,i,o){t.onKeyEvent(e,"keyup",n,i,o)}}}]),e.directive("odinUppercase",[function(){return{link:function(e,n,i){t.onKeyEventToUpper(e,n,i)}}}])},t.keysByCode={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},t}();t.KeyboardDirective=e;var n=function(){function t(){}return t.add=function(t){t.directive("odinRightClick",["$parse",function(t){return{link:function(e,n,i){var o=t(i.odinRightClick);n.bind("contextmenu",function(t){t.preventDefault(),o(e,{$event:t})})}}}])},t}();t.MouseDirective=n;var i=function(){function e(){}return e.add=function(e){var n=this;e.directive("odinNumber",function(){return{require:"?ngModel",link:function(e,i,o,r){if(r){var a,s,c,l,u,d=t.NumUtil.getDefaultOptions().separator,p={digits:"*",decimals:"0",maxValue:"*",separator:d,type:"number"},h=o.odinNumber,f=[];t.StringUtil.isNullOrEmpty(h)||(f=h.split(","),f.forEach(function(t,e){t||(f[e]="*")})),s=f[0]||o.odinDigits||p.digits,c=f[1]||o.odinDecimals||p.decimals,l=f[2]||o.odinMaxvalue||p.maxValue,u=o.odinSeparator||p.separator,a=o.odinType||p.type,a=a.toLowerCase();var v="number"===a,g="*"!=s?"{0,"+(parseInt(s)-1).toString()+"}":"*",m="";if("0"!=c){var y="*"!=u?u.replace(".","\\."):"[,\\.]",b="*"!=c?"{0,"+c+"}":"*";m="("+y+"\\d"+b+")"}var S=new RegExp("^[-]?([0-9])?\\d"+g+m+"?$");r.$formatters.push(function(e){return t.Util.hasValue(e)?t.NumUtil.format(e,{separator:u}):e}),r.$parsers.push(function(e){if(t.StringUtil.isNullOrEmpty(e))return v?0:"";if("number"==typeof e)return e;var o=S.test(e),a="*"!=l&&"-"!=e;if(e=e.replace(",","."),a&&o&&(o=parseFloat(e)<=parseInt(e)),o){if(v)try{if("number"!=typeof e){var s=e.replace(",",".");if(s.indexOf(".")>=0){var c=parseFloat(s);return c}var u=parseInt(s);return u}}catch(n){t.Log.debug("Failed to parse float or int "+e)}return e}var d=v?0:"",p=r.$modelValue||d,h=n.getCaretPosition(i)-1;if(""===p)r.$viewValue=p;else{var f=t.NumUtil.format(p);r.$setViewValue(f)}return r.$render(),angular.isUndefined(h)||n.setCaretPosition(i,h),p}),i.bind("keypress",function(t){32===t.keyCode&&t.preventDefault()})}}}})},e.getCaretPosition=function(t){var e=t[0],n=document.selection;if(n){var i=n.createRange();return i.moveStart("character",-t.val().length),i.text.length}return e.selectionStart},e.setCaretPosition=function(t,e){var n=t[0];if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}else n.setSelectionRange(e,e)},e}();t.NumberDirective=i}(Odin||(Odin={}));var Odin;!function(t){var e=function(){function t(){}return t.cacheTemplatesInModule=function(){angular.module("odin").run(["$templateCache",function(t){t.put("odin/partials/filterHeader.html",'<div class="ngHeaderSortColumn{{col.headerClass}}" ng-syle="{\\&quot;cursor\\&quot;: col.cursor}" ng-class="{\\&quot;ngSorted\\&quot;: !noSortVisible}"><div ng-click="col.sort($event)" ng-class="\\&quot;colt\\&quot; + col.index" class="ngHeaderText">{{col.displayName}}</div><div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div><div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div><div class="ngSortPriority">{{col.sortPriority}}</div><div ng-class="{ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned}" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><input type="text" ng-click="stopClickProp($event)" placeholder="Filter..." ng-model="col.filterText" ng-style="{\\&quot;width\\&quot; : col.width - 14 + \\&quot;px\\&quot;}"><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>'),t.put("odin/partials/genericBrowse.html",'<div class="modal-header"><button class="close" type="button" ng-click="cancel()">×</button><h3>{{options.header}}</h3></div><div class="modal-body"><p>{{options.message}}</p><div ng-include="options.templateUrl"></div></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{lang.OK}}</button> <button class="btn" ng-click="cancel()">{{lang.Cancel}}</button></div>'),t.put("odin/partials/gridBrowse.html",'<div class="modal-header"><button class="close" type="button" ng-click="cancel()">×</button><h3>{{options.header}}</h3></div><div class="modal-body"><div class="odin-position-r"><odin-busy-indicator ng-show="odinBusy"></odin-busy-indicator><div class="container-fluid"><div>{{options.message}}</div><div style="width: 480px" ui-grid="gridOptions" ui-grid-selection ui-grid-resize-columns></div></div></div></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{lang.OK}}</button> <button class="btn" ng-click="cancel()">{{lang.Cancel}}</button></div>'),t.put("odin/partials/modalMessage.html",'<div class="modal-header"><button class="close" type="button" ng-click="options.close()">×</button><h3>{{options.header}}</h3></div><div class="modal-body"><p>{{options.message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="options.primary()">{{options.primaryText}}</button> <button class="btn" ng-click="options.secondary()" ng-show="options.showSecondary">{{options.secondaryText}}</button> <button class="btn" ng-click="options.cancel()" ng-show="options.showCancel">{{options.cancelText}}</button></div>')}])},t}();t.Templates=e}(Odin||(Odin={}));var Odin;!function(t){var e;!function(e){var n=function(){function t(t){this.scope=t}return t.prototype.sendEvent=function(t,e,n){var i={targetName:t,eventName:e,parameters:n};this.scope.odinMashupInstance.send(i)},t.$inject=["$scope"],t}();e.InstanceCtrl=n;var i=function(){function e(){this.receive=new t.InstanceEvent}return e.prototype.send=function(t){},e}();e.Instance=i;var o=function(){function t(){this.name="odinMashup"}return t.add=function(e){var n=new t;e.directive(n.name,function(){return n.create()})},t.prototype.create=function(){return{restrict:"E",replace:!0,scope:{id:"@",eventCallback:"&",src:"@"},controller:function(t){var e=new i;t.$parent.odinMashupInstance=e,e.send=function(e){var n={type:"OdinMashupEvent",data:e},i=document.getElementById(t.id).contentWindow;i.postMessage(n,"*")},t.receiveMessage=function(e){if("OdinMashupEvent"==e.data.type){var n=e.data.data.parameters,i={};n.forEach(function(t,e,n){i[t.targetKey]=t.value}),e.data.data.parameters=i,t.eventCallback({e:e.data.data})}else t.eventCallback({e:e.data})},window.addEventListener("message",t.receiveMessage,!1)},template:'<iframe id="" src=""></iframe>'}},t}();e.Directive=o;var r=function(){function e(){this.name="odinMashupControl"}return e.createIFrame=function(){return $("<iframe />").attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms").attr("seamless","seamless").attr("frameborder","0")},e.add=function(n){n.directive("odinMashupControl",["$rootScope",function(n){return{scope:!1,link:function(i,o,r,a,s){var c=function(){var t=i.$eval(r.options),n=t.getOptions();if(n&&n.url){var a=e.createIFrame();a.attr("src",n.url);var s=r.iframeClass;s?a.addClass(s):a.css({position:"absolute",width:"100%",height:"100%",left:0,top:0,right:0,bottom:0});var c=a[0];c.onload=function(){t.onFrame(c)},o.append(a)}},l=n.$watch(t.StartupState.ready,function(t){t&&(l(),c())})}}}])},e}();e.ControlDirective=r,function(t){t[t.Pending=0]="Pending",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized",t[t.Running=3]="Running",t[t.Busy=4]="Busy",t[t.Failed=5]="Failed"}(e.ControlStatus||(e.ControlStatus={}));var a=e.ControlStatus,s=function(){function t(t){var e=this;this.registeredEvents=[],this.isInitialized=!1,this.status=a.Pending,window.addEventListener("message",function(t){return e.receiveMessage(t)},!1)}return t.prototype.getOptions=function(){var t=this;return{onFrame:function(e){return t.onFrame(e)},getOptions:function(){var e=t.onGetOptions();return t.controlOptions=e,t.controlId=e.webControl.id,e}}},t.prototype.onFrame=function(t){if(this.iframe=t,this.controlOptions){var e=this.controlOptions.webControl;e.url||(e.url=this.controlOptions.url);var n={type:"MashupInitialize",data:{webControl:e}};this.postMessage(n)}},t.prototype.onGetOptions=function(){return null},t.prototype.registerEvents=function(t){
var e=this;t.forEach(function(t,n,i){e.registeredEvents.push(t)})},t.prototype.onInitialized=function(){},t.prototype.postMessage=function(t){this.iframe.contentWindow.postMessage(t,"*")},t.prototype.raiseEvent=function(t){if(this.status==a.Initialized||this.status==a.Running){var e={type:"MashupLoad",data:t};return this.iframe.contentWindow.postMessage(e,"*"),!0}return!1},t.prototype.raiseGetValuesEvent=function(t){var e={type:"MashupGetValues",data:{parameters:t.parameters,sourceName:this.controlId,sourceEventName:t.sourceEventName,targetName:"MashupFramework"}};this.postMessage(e)},t.prototype.getEventInfo=function(t){for(var e=this.registeredEvents,n=0;n<e.length;n++){var i=e[n];if(i.sourceEventName===t)return i}return null},t.prototype.receiveMessage=function(t){var e,n=JSON.parse(t.data);if(n.id==this.controlId)if("MashupSetStatus"==n.type){var i=n.data;this.status=i,a.Initialized==i&&(this.isInitialized=!0,this.onInitialized())}else if("MashupEvent"==n.type)e=this.getEventInfo(n.data),null!=e&&this.raiseGetValuesEvent(e);else if("MashupEventValues"==n.type){var o=n.data;e=this.getEventInfo(o.sourceEventName),e&&e.onEvent&&e.onEvent(o)}},t.$inject=["$scope"],t}();e.ControlCtrl=s}(e=t.Mashup||(t.Mashup={}))}(Odin||(Odin={}));var Odin;!function(t){var e=function(){function e(t,e,n){this.rootScope=t,this.applicationService=e,this.messageService=n,this.logPrefix="[Odin.StartupState] ",this.isReady=!1,this.error=null}return e.prototype.setReady=function(){this.isReady,this.isReady=!0,this.rootScope[e.ready]=!0,this.applicationService.setActive(),t.Log.info(this.logPrefix+"Ready")},e.prototype.setError=function(t){this.applicationService.setState(s.Error),this.error=t},e.prototype.getError=function(){return this.error},e.prototype.hasError=function(){return!!this.error},e.prototype.showErrorMessage=function(e,n){var i=this.error;i||(i={}),e&&(i.header=e),n&&(i.message=n),i.type=t.MessageType.Error,this.messageService.show(i)},e.ready="odinReady",e}();t.StartupState=e;var n=function(){function e(e,n){this.q=e,this.http=n,this.logPrefix="[LanguageService] ",this.pending=[],this.isReady=!1,this.language=new t.Language,angular.extend(this.language,{OK:"OK",Cancel:"Cancel",Yes:"Yes",No:"No"})}return e.add=function(t){t.service("odinLanguageService",e)},e.prototype.tryGet=function(){return this.language},e.prototype.get=function(){var t=this.q.defer();return this.isReady?t.resolve(this.language):this.pending.push(t),t.promise},e.prototype.getUrl=function(e,n){return t.Framework.getPath()+"/localization/"+e+"/"+n},e.prototype.resolve=function(t){this.isReady=!0,t.resolve(this.language);for(var e=0;e<this.pending.length;e++)this.pending[e].resolve(this.language)},e.prototype.reject=function(e,n,i){var o="Failed to load language. Status: "+i.status+" URL: "+n;t.Log.error(o);var r=new t.Language;r.errorMessage=o,e.reject(r);for(var a=0;a<this.pending.length;a++)this.pending[a].reject(r)},e.prototype.loadFiles=function(e,n){var i=this,o=n[0];n=n.slice(1),t.Log.debug(this.logPrefix+"Loading file "+o),this.http.get(o).then(function(t){var o=t.data;angular.extend(i.language,o),n.length>0?i.loadFiles(e,n):i.resolve(e)},function(t){i.reject(e,o,t)})},e.prototype.load=function(t){var e=this.q.defer();t.standard!==!1&&(t.standard=!0);var n=t.language;n||(n="en-US");var i,o=[];if(t.application){var r=t.applicationFilename;r||(r="application.js"),i=this.getUrl(n,r),o.push(i)}return t.standard&&(i=this.getUrl(n,"standard.js"),o.push(i)),o.length>0?this.loadFiles(e,o):this.resolve(e),e.promise},e.$inject=["$q","$http"],e}(),i=function(){function e(){this.logPrefix="[StorageService] ",this.keyPrefix="odin-",this.nameSessionStorage="sessionStorage",this.nameLocalStorage="localStorage",this.nameApplicationStorage="applicationStorage",this.applicationStorage={}}return e.prototype.getKey=function(t){if(!t)throw"Missing key";return this.keyPrefix+t},e.prototype.getLocal=function(t,e){return this.getValueFromStorage(t,localStorage,this.nameLocalStorage,e)},e.prototype.setLocal=function(t,e){this.setValueInStorage(t,e,localStorage,this.nameLocalStorage)},e.prototype.getSession=function(t,e){return this.getValueFromStorage(t,sessionStorage,this.nameSessionStorage,e)},e.prototype.setSession=function(t,e){this.setValueInStorage(t,e,sessionStorage,this.nameSessionStorage)},e.prototype.setValueInStorage=function(e,n,i,o){var r=this.getKey(e);if(i)try{o===this.nameApplicationStorage?i[r]=n:o===this.nameSessionStorage?i[r]=JSON.stringify(n):o===this.nameLocalStorage&&i.setItem(r,JSON.stringify(n)),t.Log.debug(this.logPrefix+"Saved value: "+n+" in "+o)}catch(e){t.Log.warning(this.logPrefix+"Failed to store "+n+" in "+o)}else t.Log.warning(this.logPrefix+"No "+o+" available")},e.prototype.getValueFromStorage=function(e,n,i,o){var r=this.getKey(e),a=null;if(n)try{return a=i==this.nameLocalStorage?n.getItem(r):n[r],a?(t.Log.debug(this.logPrefix+"Key: "+e+" found in "+i+", value: "+a),i===this.nameApplicationStorage?a:JSON.parse(a)):(t.Log.debug(this.logPrefix+"Key: "+e+" does not exist in "+i),null!=o?o:null)}catch(n){t.Log.warning(this.logPrefix+"Failed to get key: "+e+", value:"+a+" in "+i)}else t.Log.warning(this.logPrefix+"No "+i+" available");return null},e.prototype.getApplication=function(t,e){return this.getValueFromStorage(t,this.applicationStorage,this.nameApplicationStorage,e)},e.prototype.setApplication=function(t,e){this.setValueInStorage(t,e,this.applicationStorage,this.nameApplicationStorage)},e.prototype.clearLocalStorage=function(){var e=this,n=this.keyPrefix.length;Object.keys(localStorage).forEach(function(t){t.substring(0,n)==e.keyPrefix&&localStorage.removeItem(t)}),t.Log.debug(this.logPrefix+"Removed all odin- items from Local Storage")},e.prototype.clearApplicationStorage=function(){this.applicationStorage={},t.Log.debug(this.logPrefix+"Cleared Application Storage")},e.prototype.clearSessionStorage=function(){var e=this,n=this.keyPrefix.length;Object.keys(sessionStorage).forEach(function(t){e.keyPrefix;t.substring(0,n)==e.keyPrefix&&sessionStorage.removeItem(t)}),t.Log.debug(this.logPrefix+"Removed all odin- items from  Session Storage")},e.prototype.deleteKeyLocalStorage=function(e){localStorage.removeItem(this.getKey(e)),t.Log.debug(this.logPrefix+"Removed key: "+e+"from Local Storage")},e.prototype.deleteKeyApplicationStorage=function(e){delete this.applicationStorage[this.getKey(e)],t.Log.debug(this.logPrefix+"Removed key: "+e+"from Application Storage")},e.prototype.deleteKeySessionStorage=function(e){sessionStorage.removeItem(this.getKey(e)),t.Log.debug(this.logPrefix+"Removed key: "+e+"from Session Storage")},e.add=function(t){t.service("odinStorageService",e)},e}(),o=function(){function t(){}return t.browseGridTemplateName="odin/partials/gridBrowse.html",t.browseGenericTemplateName="odin/partials/genericBrowse.html",t.modalMessageTemplate="odin/partials/modalMessage.html",t}();t.BrowseConstants=o;var r=function(){function e(t,e){this.modal=t,this.q=e}return e.add=function(t){t.service("odinBrowseService",e)},e.prototype.browse=function(e){var n=e.templateUrl?t.BrowseConstants.browseGenericTemplateName:t.BrowseConstants.browseGridTemplateName,i=angular.copy(e),o=this.modal.open({templateUrl:n,controller:m,backdrop:"static",resolve:{browseOptions:function(){return i}}}).result;return o},e.$inject=["$uibModal","$q"],e}();t.BrowseService=r;var a=function(){function e(){}return e.setSelectedItem=function(t,e){this.setSelectedItemInternal(t,e)},e.close=function(n,i){var o=n[e.selectedItemKeyInternal];o&&o.hasOwnProperty("close")?o.close(i):t.Log.debug("Can not find odinBrowseResult")},e.setSelectedItemInternal=function(t,n){if(t){var i=t[e.selectedItemKeyInternal];if(i&&i.hasOwnProperty("selectedItem"))i.selectedItem=n;else{var o=t.$parent;o&&this.setSelectedItemInternal(o,n)}}},e.selectedItemKeyInternal="odinBrowseResult",e}();t.BrowseUtil=a,function(t){t[t.Pending=0]="Pending",t[t.Active=1]="Active",t[t.Busy=2]="Busy",t[t.Error=3]="Error"}(t.ApplicationState||(t.ApplicationState={}));var s=t.ApplicationState,c=function(){function e(n,i){var o=this;this.componentService=n,this.nameOdinBusy="odinBusy",this.busy=!1,this.busyEvent=new t.InstanceEvent,this.activeEvent=new t.InstanceEvent,this.stateEvent=new t.InstanceEvent,this.visibleEvent=new t.InstanceEvent,this.id=0,this.scope=i.scope,this._isVisible=!0,this.state=t.ComponentState.Active,this.id=e.counter++;var r=i.visualState;r?(this.isVisualState=!0,r.activeChanged().on(function(t){o.setVisible(t)})):(this.isVisualState=i.isVisualState,this.isVisualState&&i.scope.$parent.$watch("odinVisualState.isActive",function(e){t.Util.isUndefined(e)||o.setVisible(e)}))}return e.prototype.raise=function(t){this.componentService.raise(t)},e.prototype.raiseEvent=function(t,e){this.componentService.raiseEvent(t,e)},e.prototype.getPendingEvent=function(){return this.pendingEvent},e.prototype.setPendingEvent=function(t){this.pendingEvent=t},e.prototype.stateChanged=function(){return this.stateEvent},e.prototype.setActiveState=function(e){this.setState(t.ComponentState.Active,e)},e.prototype.setBusyState=function(e){this.setState(t.ComponentState.Busy,e)},e.prototype.getContext=function(t){return this.componentService.getContext(t)},e.prototype.setState=function(e,n){if(n){var i=this.getContext(n);return void(i&&i.setState(e))}if(this.state!=e){var o=this.isActive();this.state=e,this.scope[this.nameOdinBusy]=e==t.ComponentState.Busy,this.stateEvent.raise(this.state),this.raiseActive(o)}},e.prototype.getState=function(t){if(t){var e=this.getContext(t);return e?e.getState():null}return this.state},e.prototype.isBusy=function(e){return this.getState(e)===t.ComponentState.Busy},e.prototype.activeChanged=function(){return this.activeEvent},e.prototype.isActive=function(e){var n=e?this.getContext(e):this;return n?n.state===t.ComponentState.Active&&n._isVisible:null},e.prototype.visibleChanged=function(){return this.visibleEvent},e.prototype.isVisible=function(t){var e=t?this.getContext(t):this;return e?e._isVisible:null},e.prototype.setVisible=function(t,e){if(e){var n=this.getContext(e);return void(n&&n.setVisible(t))}if(this._isVisible!=t){var i=this.isActive();this._isVisible=t,this.visibleEvent.raise(t),this.raiseActive(i)}},e.prototype.raiseActive=function(t){var e=this.isActive();t!==e&&this.activeEvent.raise(e)},e.counter=0,e}(),l=function(){function t(t){this.rootScope=t,this.logPrefix="[ApplicationService] ",this.nameBusy="odinApplicationBusy",this.state=s.Pending}return t.add=function(e){e.service("odinApplicationService",t)},t.prototype.setState=function(t){this.state!=t&&(this.state=t,this.rootScope[this.nameBusy]=t==s.Busy)},t.prototype.getState=function(){return this.state},t.prototype.setActive=function(){this.setState(s.Active)},t.prototype.isActive=function(){return this.state==s.Active},t.prototype.setBusy=function(){this.setState(s.Busy)},t.prototype.isBusy=function(){return this.state==s.Busy},t.$inject=["$rootScope"],t}(),u=function(){function e(t){this.rootScope=t,this.logPrefix="[ComponentService] ",this.events={},this.namedComponents={}}return e.add=function(t){t.service("odinComponentService",e)},e.prototype.getContext=function(t){return this.namedComponents[t]},e.prototype.setComponentState=function(t,e){var n=this.namedComponents[e];n&&n.setState(t)},e.prototype.raise=function(e){t.Log.debug(this.logPrefix+"Raising event "+e.eventName),this.rootScope.$broadcast(e.eventName,e)},e.prototype.raiseEvent=function(t,e){this.raise({eventName:t,parameter:e})},e.prototype.canDeliver=function(t){return t.alwaysReceive||t.context.isActive()},e.prototype.deliverPending=function(t){var e=t.getPendingEvent();e&&t.isActive()&&(this.deliverEvent(e.eventInfo,e),t.setPendingEvent(null))},e.prototype.register=function(t){var e=this,n=t;n.isVisualState!==!1&&(n.isVisualState=!0);var i=new c(this,t),o=t.name;if(o){if(this.namedComponents[o])throw"The component "+o+" has already been registered.";this.namedComponents[o]=i}if(t.events){for(var r=0;r<t.events.length;r++){var a=t.events[r];if(!a.eventName)throw"Property eventName not set";if(!a.onEvent)throw"Property onEvent not set";this.subscribeEvent(t,i,a)}i.activeChanged().on(function(t){t&&e.deliverPending(i)})}return i},e.prototype.subscribeEvent=function(t,e,n){var i=this;n.context=e,n.isVisualState=t.isVisualState;var o=n.eventName,r=this.events[o];r||(r=[],this.events[o]=r,this.rootScope.$on(o,function(t,e){i.onEvent(t,e)})),r.push(n)},e.prototype.onEvent=function(e,n){var i=n.eventName;if(t.StringUtil.isNullOrEmpty(i)){var o={eventName:i,parameter:n};n=o}var r=this.events[i];if(r)for(var a=0;a<r.length;a++){var s=r[a];if(this.canDeliver(s))this.deliverEvent(s,n);else{var c=angular.copy(n);c.eventInfo=s,s.context.setPendingEvent(c),t.Log.debug(this.logPrefix+"Delayed delivery of event "+c.eventName)}}},e.prototype.deliverEvent=function(e,n){if(e.onEvent)try{t.Log.debug(this.logPrefix+"Delivering event "+n.eventName),e.onEvent(n)}catch(e){t.Log.error(this.logPrefix+"Failed to deliver event "+n.eventName,e)}},e.prototype.setBusyIndicator=function(t,e){t.odinBusy=e},e.$inject=["$rootScope"],e}(),d=function(){function e(n){this.scope=n,this.isActive=!1,this.isActivated=!1,this.children=[],this.id=0,this.activeEvent=new t.InstanceEvent,this.updateScope(),this.attachToParent(n.$parent),this.id=e.counter++}return e.prototype.activeChanged=function(){return this.activeEvent},e.prototype.updateScope=function(){this.scope[e.scopeName]=null,this.scope[e.scopeName]=this},e.prototype.addChild=function(t){this.children.push(t)},e.prototype.isActiveInScope=function(t){if(t){var n=t[e.scopeName];return!(n&&!n.isActive)&&this.isActiveInScope(t.$parent)}return!0},e.prototype.attachToParent=function(t){if(t){var n=t[e.scopeName];if(n)return void n.addChild(this);this.attachToParent(t.$parent)}},e.prototype.activate=function(){if(this.isActivated=!0,this.isActiveInScope(this.scope.$parent)){this.isActive=!0;for(var t=0;t<this.children.length;t++)this.children[t].activateChild()}this.updateScope(),this.activeEvent.raise(!0)},e.prototype.deactivate=function(){this.isActivated=!1,this.isActive=!1;for(var t=0;t<this.children.length;t++)this.children[t].deactivateChild();this.updateScope(),this.activeEvent.raise(!1)},e.prototype.activateChild=function(){this.isActivated&&(this.isActive=!0)},e.prototype.deactivateChild=function(){this.isActive&&(this.isActive=!1)},e.scopeName="odinVisualState",e.counter=0,e}();t.VisualState=d;var p=function(){function t(t){this.scope=t,this.visualState=new d(t)}return t.add=function(e){e.controller("OdinVisualStateCtrl",t)},t.prototype.activate=function(){this.visualState.activate()},t.prototype.deactivate=function(){this.visualState.deactivate()},t.$inject=["$scope"],t}();t.VisualStateCtrl=p;var h=function(){function t(t){this.scope=t}return t.add=function(e){e.controller("OdinTabCtrl",t)},t.prototype.select=function(){this.visualState.activate()},t.prototype.deselect=function(){this.visualState.deactivate()},t.$inject=["$scope"],t}();t.TabCtrl=h;var f=function(){function t(){}return t.add=function(t){t.directive("odinNavbar",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{header:"@",theme:"@"},template:"<nav class='navbar navbar-default navbar-static-top' role='navigation'><div class='navbar-header'><button type='button' class='navbar-toggle' ng-init='navbarCollapsed=true' ng-click='navbarCollapsed=!navbarCollapsed'><span class='sr-only'>Toggle navigation</span><span class='icon-bar'></span><span class='icon-bar'></span><span class='icon-bar'></span></button><a class='navbar-brand' href='#/'>{{header}}</a></div><div class='collapse navbar-collapse' ng-class='!navbarCollapsed && \"in\"'><ul class='nav navbar-nav navbar-right' ng-show='{{theme}}'><li class='dropdown' uib-dropdown><a href='#' class='dropdown-toggle' uib-dropdown-toggle>Theme <span class='caret'></span></a><ul class='dropdown-menu' uib-dropdown-menu role='menu'>"+'<li><a href=\'javascript:void(0);\' onclick=\'var element=document.querySelector("#odin-theme");element.setAttribute("href", element.getAttribute("href").replace("bootstrap", "default"));var xi=document.querySelector("#xi-theme");xi.disabled=true;\'>Odin</a></li><li><a href=\'javascript:void(0);\' onclick=\'var element=document.querySelector("#odin-theme");element.setAttribute("href", element.getAttribute("href").replace("default", "bootstrap"));var xi=document.querySelector("#xi-theme");xi.disabled=true;\'>Bootstrap</a></li><li><a href=\'javascript:void(0);\' onclick=\'var element=document.querySelector("#odin-theme");element.setAttribute("href", element.getAttribute("href").replace("bootstrap", "default"));var xi=document.querySelector("#xi-theme");xi.disabled=false;\'>Xi</a></li></ul></li></ul><div ng-transclude></div></div></nav>'}})},t}();t.NavbarDirective=f;var v=function(){function t(){this.scopeNameGridOptions="gridOptions",this.scopeNameGridData="items",this.configureGrid=!0}return t.get=function(e){var n=new t;return e?(angular.extend(n,e),n):n},t}();t.DefaultListCtrlOptions=v;var g=function(){function n(t,n,i){var o=this;void 0===i&&(i=null),this.baseCtrlOptions=i,this.prefixBaseCtrl="[Odin.BaseCtrl] ",this.baseScope=t,this.odinService=n,this.rootScope=n.rootScope,this.componentService=n.componentService;var r=this.rootScope.$watch(e.ready,function(t){t&&(r(),o.ctrlInit())})}return n.prototype.ctrlInit=function(){if(this.isInitialized)throw"Already initialized";this.isInitialized=!0,t.Log.debug(this.prefixBaseCtrl+"Initialize"),this.onReady()},n.prototype.registerComponent=function(t){var e=this;if(void 0===t&&(t={}),this.componentContext)throw"A component context has already been registered";t.scope||(t.scope=this.baseScope);var n=this.componentService.register(t);return n.activeChanged().on(function(t){return e.onActive(t)}),this.componentContext=n,this.componentContext},n.prototype.getComponentContext=function(){return this.componentContext||this.registerComponent(),this.componentContext},n.prototype.onActive=function(t){},n.prototype.setBusy=function(){this.getComponentContext().setBusyState()},n.prototype.isBusy=function(){return this.getComponentContext().isBusy()},n.prototype.setActive=function(){this.getComponentContext().setActiveState()},n.prototype.onReady=function(){},n}();t.BaseCtrl=g;var m=function(e){function n(n,i,o,r){var s=this;if(e.call(this,n,o),this.scope=n,this.modalInstance=i,this.service=o,this.browseOptions=r,!r)return void t.Log.error("Missing mandatory browseOptions");var c=o.languageService.tryGet();if(n.lang=c,r.gridOptions){var l=this.browseOptions.gridOptions;this.browseOptions.items?l.data=this.browseOptions.items:l.data||(l.data="items"),l.onRegisterApi||(l.onRegisterApi=function(t){s.gridApi=t,t.selection.on.rowSelectionChanged(n,function(t){s.afterSelectionChange(t)})});var u={onDoubleClick:function(){s.closeWithSelected()}};this.scope["odin.DoubleClick"]=u,n.gridOptions=r.gridOptions}n.options={gridOptions:r.gridOptions,header:r.header,message:r.message,templateUrl:r.templateUrl},r.items&&(n.items=r.items),n.ok=function(){s.closeWithSelected()},n.cancel=function(){t.Log.debug("Cancel in dialog. Returning null "),s.modalInstance.close(null)},n.close=function(e){t.Log.debug("Close called on scope. Returning item "+e),s.modalInstance.close(e)};var d={selectedItem:null,close:function(t){s.modalInstance.close(t)}};n[a.selectedItemKeyInternal]=d}return __extends(n,e),n.prototype.closeWithSelected=function(){var e=this.scope.odinBrowseResult?this.scope.odinBrowseResult.selectedItem:null;t.Log.debug("Selected item on scope is "+e),this.modalInstance.close(e)},n.prototype.onReady=function(){},n.prototype.afterSelectionChange=function(t){return t.isSelected?void a.setSelectedItem(this.scope,t.entity):void a.setSelectedItem(this.scope,null)},n.add=function(t){t.controller("OdinDefaultBrowseCtrl",n)},n.$inject=["$scope","$uibModalInstance","odinService","browseOptions"],n}(g);t.DefaultBrowseCtrl=m;var y=function(){function e(){this.name="odinExpander",this.scopeName="isExpanded"}return e.add=function(t){var n=new e;t.directive(n.name,["$compile",function(t){return n.create(t)}])},e.prototype.create=function(e){var n=this;return{restrict:"E",transclude:!0,compile:function(e,i){return i[n.scopeName]||(i[n.scopeName]=t.Util.getUuid("expander")),null},scope:{header:"@",isExpanded:"="},template:"<fieldset class='odin-expander'><legend ng-click='isExpanded = !isExpanded'><span>{{header}}</span></legend><button type='button' class='odin-expander-button' role='button' ng-class='{\"true\": \"open\", \"false\": \"closed\", undefined: \"closed\"}[isExpanded]' ng-click='isExpanded = !isExpanded'></button><div class='content' uib-collapse='!isExpanded' ng-transclude></div></fieldset>"}},e}();t.ExpanderDirective=y;var b=function(){function t(){}return t.add=function(t){t.directive("odinFormElement",function(){return{restrict:"E",replace:!0,transclude:!0,compile:function(t,e){var n=$("<div />").addClass("form-group");t.append(n);var i=12;if(e.label){e.labelSize||(e.labelSize=3),i-=e.labelSize;var o=$("<label />").addClass("control-label col-md-"+e.labelSize).text(e.label).append($("<span />"));e.forId&&o.attr("for",e.forId),e.labelTooltip&&o.attr("title",e.labelTooltip),n.append(o)}var r=$("<div />").attr("ng-transclude","");return e.elementOffset&&(r.addClass("col-md-offset-"+e.elementOffset),i-=e.elementOffset),n.append(r),e.additional&&(e.additionalSize||(e.additionalSize=3),i-=e.additionalSize,n.append($("<label />").addClass("odin-additional-label control-label col-md-"+e.additionalSize).text(e.additional).append($("<span />")).attr("title",e.additional))),r.addClass("col-md-"+i),null},template:"<div></div>"}})},t}();t.FormElementDirective=b;var S=function(){function e(){}return e.add=function(e){e.directive("odinCheckbox",function(){return{restrict:"E",replace:!0,transclude:!1,compile:function(e,n){n.checkboxId||(n.checkboxId=t.Util.getUuid("checkbox"));var i=$("<label />");e.append(i);var o=$("<input />").attr({type:"checkbox","ng-checked":"value","ng-click":"value = !value",id:n.checkboxId});n.name&&o.attr("name",n.name),i.append(o),n.isDisabled&&("true"==n.isDisabled?o.attr("disabled",""):"false"!=n.isDisabled&&o.attr("ng-disabled","isDisabled"));var r=$("<span />").attr("for",n.checkboxId);return i.append(r),n.label&&r.html("{{label}}"),null},scope:{checkboxId:"@",value:"=",label:"@",isDisabled:"=",name:"@"},template:'<div class="checkbox"></div>'}})},e}();t.CheckboxDirective=S;var w=function(){function e(){}return e.add=function(e){e.directive("odinRadio",function(){return{restrict:"E",replace:!0,transclude:!1,compile:function(e,n){n.radioId||(n.radioId=t.Util.getUuid("radio"));var i=$("<label />");e.append(i);var o=$("<input />").attr({type:"radio","ng-checked":"model == value","ng-click":"model = value",id:n.radioId,value:"value"});n.name&&o.attr("name",n.name),i.append(o),n.isDisabled&&("true"==n.isDisabled?o.attr("disabled",""):"false"!=n.isDisabled&&o.attr("ng-disabled","isDisabled"));var r=$("<span />").attr("for",n.radioId);return i.append(r),n.label&&r.html("{{label}}"),null},scope:{radioId:"@",value:"@",label:"@",model:"=",isDisabled:"=",name:"@"},template:'<div class="radio"></div>'}})},e}();t.RadioDirective=w;var C=function(){function e(){}return e.add=function(e){e.directive("odinSwitch",function(){return{restrict:"E",replace:!0,transclude:!1,compile:function(e,n){n.switchId||(n.switchId=t.Util.getUuid("switch"));var i=$("<input />").attr({type:"checkbox",id:n.switchId,value:"value","ng-checked":"value","ng-click":"value = !value"});n.name&&i.attr("name",n.name),n.isDisabled&&("true"==n.isDisabled?i.attr("disabled",""):"false"!=n.isDisabled&&i.attr("ng-disabled","isDisabled")),e.append(i);var o=$("<label />").attr("for",n.switchId);e.append(o);var r=$("<span />").addClass("switch-box");return r.append($("<span />").addClass("switch-inner")),r.append($("<span />").addClass("switch-switch")),o.append(r),o.append($("<span />").addClass("switch-label").html("{{label}}")),null},scope:{switchId:"@",value:"=",label:"@",isDisabled:"@",name:"@"},template:'<div class="switch"></div>'}})},e}();t.SwitchDirective=C;var E=function(){function e(){}return e.add=function(e){e.directive("odinInput",function(){return{restrict:"E",replace:!0,transclude:!1,compile:function(e,n){n.inputId||(n.inputId=t.Util.getUuid("input"));var i=$("<div />").addClass("form-group");e.append(i);var o=12;if(n.label){n.labelSize||(n.labelSize=3),o-=n.labelSize;var r=$("<label />").addClass("control-label col-md-"+n.labelSize).text(n.label).attr("for",n.inputId).append($("<span />"));n.labelTooltip&&r.attr("title",n.labelTooltip),i.append(r)}var a=$("<div />");n.inputOffset&&(a.addClass("col-md-offset-"+n.inputOffset),o-=n.inputOffset),i.append(a),n.value||(n.value=t.Util.getUuid("input"));var s=$("<input />").attr({"ng-model":n.value,id:n.inputId,type:"text"}).addClass("form-control");return n.size&&s.addClass("odin-input-"+n.size),n.placeholder&&s.attr("placeholder",n.placeholder),n.isReadonly&&"true"==n.isReadonly&&s.attr("readonly",""),n.isDisabled&&("true"==n.isDisabled?s.attr("disabled",""):"false"!=n.isDisabled&&s.attr("ng-disabled","isDisabled")),n.required&&s.attr("ng-required",n.required),n.autofocus&&"true"==n.autofocus&&s.attr("odin-focus-auto",""),a.append(s),n.additional&&(n.additionalSize||(n.additionalSize=3),o-=n.additionalSize,i.append($("<label />").addClass("odin-additional-label control-label col-md-"+n.additionalSize).attr("title",n.additional).text(n.additional).append($("<span />")))),a.addClass("col-md-"+o),null},template:"<div class='col-md-12'></div>"}})},e}();t.InputDirective=E;var x=function(){function t(){}return t.add=function(t){t.directive("odinExpandableFooter",function(){return{restrict:"E",replace:!0,template:"<div><div ng-if='odinExpandableFooter.useOverlay' ng-class='{\"true\": \"odin-position-f-fill\"}[odinExpandableFooter.isExpanded && odinExpandableFooter.useOverlay]' class='odin-expandable-footer-overlay' ng-show='odinExpandableFooter.isExpanded' ng-click='odinExpandableFooter.isExpanded=false'></div><div class='odin-expandable-footer navbar-fixed-bottom'><div class='container-fluid'><div class='row'><div class='col-xs-12 odin-expandable-footer-header odin-cursor-pointer' ng-click='odinExpandableFooter.isExpanded = !odinExpandableFooter.isExpanded'><div class='odin-padding-md-r' ng-include='odinExpandableFooter.headerTemplateUrl'></div><span class='glyphicon' ng-class='{\"false\": \"glyphicon-chevron-up\", \"true\": \"glyphicon-chevron-down\", \"undefined\": \"glyphicon-chevron-up\"}[odinExpandableFooter.isExpanded]'></span></div></div><div class='row odin-expandable-footer-content' uib-collapse='!odinExpandableFooter.isExpanded'><div class='col-xs-12' ng-include='odinExpandableFooter.contentTemplateUrl'></div></div></div></div></div>"}})},t}();t.ExpandableFooterDirective=x;var I=function(){function t(){}return t.add=function(t){t.directive("odinSplashScreen",function(){return{restrict:"E",replace:!0,transclude:!1,scope:{value:"@",description:"@"},template:'<div class="odin-splash-screen"><div class="odin-splash-screen-container"><div class="odin-splash-screen-logo"></div><h1>{{value}}<br></h1><p>{{description}}</p><br><span class="odin-busy-indicator-large"></span></div></div>'}})},t}();t.SplashScreenDirective=I;var k=function(){function t(){}return t.add=function(t){t.directive("odinBusyIndicator",function(){return{restrict:"E",replace:!0,transclude:!1,template:'<div class="odin-busy-indicator-parent"><div class="odin-busy-indicator-text"></div></div>'}})},t}();t.BusyIndicatorDirective=k;var O=function(){function t(){}return t.add=function(t){t.directive("odinCircularTile",function(){return{restrict:"E",replace:!0,transclude:!1,compile:function(t,e){return e.size||(e.size="col-md-3 col-sm-4"),null},scope:{itemId:"@",name:"@",description:"@",imageUrl:"@",buttonText:"@",onClickButton:"&",model:"=",size:"@"},template:"<div class='{{size}} odin-circular-tile'><a href='javascript:void(0)' ng-click='model=itemId'><div ng-if='!imageUrl' class='odin-tile-circle'><h2>{{itemId}}</h2></div><div ng-if='imageUrl' class='odin-tile-circle image' style='background-image: url(\"{{imageUrl}}\");'></div><h3>{{name}}</h3></a><div class='odin-tile-details row' ng-class='{\"visible\": model===itemId, \"hidden\": model !==itemId}'><button type='button' class='close' ng-click='model=null'>×</button><div class='col-sm-12 odin-tile-content'><div class='row'><div class='col-sm-12'><div ng-if='!imageUrl' class='odin-tile-circle'><h2>{{itemId}}</h2></div><div ng-if='imageUrl' class='odin-tile-circle image' style='background-image: url(\"{{imageUrl}}\");'></div><h2>{{name}}</h2><p class='odin-tile-productId'>{{itemId}}</p><p ng-if='description' class='odin-tile-description'>{{description}}</p><a ng-if='buttonText' class='btn btn-default' ng-click='onClickButton()'>{{buttonText}}</a></div></div></div></div></div>"}})},t}();t.CircularTileDirective=O;var D=function(){function n(t,e,n,i){this.rootScope=t,this.q=e,this.location=n,this.service=i,this.logPrefix="[Odin.StartupService] ",this._isReady=!1}return n.add=function(t){t.service("odinStartupService",n)},n.prototype.isLocalhost=function(){return"localhost"==this.location.host()},n.prototype.getUrlOverride=function(t){var e=this.options;if(e&&e.urlOverrides){var n=e.urlOverrides[t];if(n){var i=this.location.host();if(i===n.host&&n.url)return n.url}}return null},n.prototype.isReady=function(){return this._isReady},n.prototype.raiseReady=function(){return"Ready state already set"},n.prototype.setReady=function(){if(this.isReady())throw this.raiseReady();this._isReady=!0;var t=new e(this.rootScope,this.service.applicationService,this.service.messageService);t.setReady()},n.prototype.resolveReady=function(t){var n=new e(this.rootScope,this.service.applicationService,this.service.messageService);t.resolve(n)},n.prototype.rejectReady=function(n,i){var o=i.errorMessage;t.Log.error(this.logPrefix+"Startup failed: "+o);var r=new e(this.rootScope,this.service.applicationService,this.service.messageService);r.setError({message:o,type:t.MessageType.Error}),n.reject(r)},n.prototype.initialize=function(e){this.options=e,e.application&&t.Framework.setApplication(this.rootScope,e.application),e.frameworkPath&&t.Framework.setPath(e.frameworkPath)},n.prototype.start=function(e){var n=this;if(this.isReady())throw this.raiseReady();var i=this.q.defer();e&&this.initialize(e),this.options||(this.options={});var o=this.options.languageOptions;if(o){var r=!t.StringUtil.isNullOrEmpty(o.language),a=!t.StringUtil.isNullOrEmpty(o.defaultLanguage),s=o.supportedLanguages&&o.supportedLanguages.length>0,c=t.ArrayUtil.contains(o.supportedLanguages,o.language);(r&&s&&!c||!r&&a)&&(o.language=o.defaultLanguage),this.service.languageService.load(o).then(function(){n.resolveReady(i)},function(t){n.rejectReady(i,t)})}else this.resolveReady(i);return i.promise},n.$inject=["$rootScope","$q","$location","odinService"],n}();t.StartupService=D;var A=function(){function t(){}return t.add=function(t){t.filter("odinDate",["$filter","odinFormatService",function(t,e){return function(n){return t("date")(n,e.getDateFormat())}}])},t}(),P=function(){function e(){}return e.add=function(e){e.filter("odinNumber",function(){return function(e){return t.NumUtil.format(e)}})},e}(),M=function(){function t(){}return t.add=function(t){t.filter("odinLang",["odinLanguageService",function(t){return function(e){return t.tryGet()[e]}}])},t}(),N=function(){function t(){}return t.add=function(t){t.directive("odinLang",["odinLanguageService",function(t){return{scope:!1,link:function(e,n,i){var o;i.$observe("odinLang",function(e){e&&e!=o&&(o=e,t.get().then(function(t){var i=t[e];i&&n.text(i)}))})}}}])},t}(),L=function(){function t(){}return t.add=function(t){t.directive("odinLangAttr",["odinLanguageService",function(t){return{scope:!1,link:function(e,n,i){var o;i.$observe("odinLangAttr",function(n){n&&n!=o&&(o=n,t.get().then(function(t){var o=e.$eval(n);for(var r in o){
var a=t[o[r]];a&&i.$set(r,a)}}))})}}}])},t}(),F=function(){function t(t,e,n,i,o,r,a,s){this.rootScope=t,this.componentService=e,this.applicationService=n,this.languageService=i,this.messageService=o,this.storageService=r,this.browseService=a,this.formatService=s}return t.add=function(e){e.service("odinService",t)},t.$inject=["$rootScope","odinComponentService","odinApplicationService","odinLanguageService","odinMessageService","odinStorageService","odinBrowseService","odinFormatService"],t}(),R=function(){function t(){}return t.add=function(e){e.directive("odinToUpper",[function(){return{restrict:"A",require:"ngModel",link:function(e,n,i,o){t.addCustomConverters(o)}}}])},t.addCustomConverters=function(e){e.$parsers.push(function(e){return t.parse(e)})},t.parse=function(t){return(t||"").toUpperCase()},t.format=function(t){return(t||"").toLowerCase()},t}();t.ToUpperDirective=R;var T=function(){function e(){}return e.init=function(){var e=angular.module("odin",["ui.bootstrap"]);i.add(e),t.MessageService.add(e),u.add(e),l.add(e),F.add(e),r.add(e),n.add(e),D.add(e),t.FormatService.add(e),t.DataProviderService.add(e),p.add(e),m.add(e),h.add(e),t.FocusDirective.add(e),t.KeyboardDirective.add(e),t.MouseDirective.add(e),t.NumberDirective.add(e),k.add(e),O.add(e),S.add(e),C.add(e),w.add(e),b.add(e),f.add(e),E.add(e),y.add(e),x.add(e),I.add(e),t.DataProviderDirective.add(e),R.add(e),N.add(e),L.add(e),t.Mashup.Directive.add(e),t.Mashup.ControlDirective.add(e),M.add(e),A.add(e),P.add(e),t.Templates.cacheTemplatesInModule(),t.Log.info("[Odin] Framework version "+t.Framework.version.full)},e}();T.init()}(Odin||(Odin={}));